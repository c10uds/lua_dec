module("luci.controller.web.index", package.seeall)
function index()
  if not node().target then
    node().target = alias("web")
    node().index = true
  end
  node("web").target = firstchild()
  node("web").title = _("")
  node("web").order = 10
  node("web").sysauth = "admin"
  node("web").mediaurlbase = "/xiaoqiang/web"
  node("web").sysauth_authenticator = "htmlauth"
  node("web").index = true
  entry({"web"}, alias("web", "home"), _("\232\183\175\231\148\177\229\153\168\231\138\182\230\128\129"), 10, 8)
  entry({"web", "logout"}, call("action_logout"), 11, 9)
  if require("xiaoqiang.util.XQSysUtil").getMiscHardwareInfo().recovery == 1 then
    entry({"web", "home"}, template("web/recovery"), _("\232\183\175\231\148\177\229\153\168\231\138\182\230\128\129"), 12)
  elseif require("xiaoqiang.common.XQFunction").getNetModeType() == 0 then
    entry({"web", "home"}, template("web/index"), _("\232\183\175\231\148\177\229\153\168\231\138\182\230\128\129"), 12)
  elseif require("xiaoqiang.common.XQFunction").getNetModeType() == 1 then
    entry({"web", "home"}, template("web/apindex"), _("\232\183\175\231\148\177\229\153\168\231\138\182\230\128\129"), 12)
  elseif require("xiaoqiang.common.XQFunction").getNetModeType() == 3 then
    entry({"web", "home"}, template("web/apindex_d01"), _("\232\183\175\231\148\177\229\153\168\231\138\182\230\128\129"), 12)
  else
    entry({"web", "home"}, template("web/apindex"), _("\232\183\175\231\148\177\229\153\168\231\138\182\230\128\129"), 12)
  end
  entry({"web", "init"}, alias("web", "init", "guidetoapp"), _("\229\136\157\229\167\139\229\140\150\229\188\149\229\175\188"), 13)
  entry({
    "web",
    "init",
    "hello"
  }, call("action_hello"), _("\230\172\162\232\191\142\231\149\140\233\157\162"), 14, 9)
  entry({
    "web",
    "init",
    "agreement"
  }, template("web/init/agreement"), _("\231\148\168\230\136\183\229\141\143\232\174\174"), 14, 9)
  entry({
    "web",
    "init",
    "privacy"
  }, template("web/init/privacy"), _("\231\148\168\230\136\183\228\189\147\233\170\140\230\148\185\232\191\155\232\174\161\229\136\146"), 14, 9)
  entry({
    "web",
    "init",
    "guide"
  }, template("web/init/guide"), _("\229\188\149\229\175\188\230\168\161\229\188\143"), 15, 8)
  entry({
    "web",
    "init",
    "guidetoapp"
  }, template("web/init/guidetoapp"), _("\229\188\149\229\175\188app"), 15, 9)
  entry({
    "web",
    "init",
    "guideuninit"
  }, template("web/init/guidetoapp_uninit"), _("\229\188\149\229\175\188app"), 15, 9)
  entry({
    "web",
    "init",
    "bind"
  }, template("web/init/bind"), _("\229\188\149\229\175\188app"), 15, 9)
  entry({"web", "setting"}, alias("web", "setting", "upgrade"), _("\232\183\175\231\148\177\232\174\190\231\189\174"), 20)
  entry({
    "web",
    "setting",
    "upgrade"
  }, template("web/setting/upgrade"), _("\232\183\175\231\148\177\230\137\139\229\138\168\229\141\135\231\186\167"), 21)
  entry({
    "web",
    "setting",
    "wifi"
  }, template("web/setting/wifi"), _("Wi-Fi\232\174\190\231\189\174"), 22)
  entry({
    "web",
    "setting",
    "wan"
  }, template("web/setting/wan"), _("\229\164\150\231\189\145\232\174\190\231\189\174"), 23)
  entry({
    "web",
    "setting",
    "proset"
  }, template("web/setting/proset"), _("\233\171\152\231\186\167\232\174\190\231\189\174"), 24)
  entry({
    "web",
    "setting",
    "lannetset"
  }, template("web/setting/lannetset"), _("\229\177\128\229\159\159\231\189\145\232\174\190\231\189\174"), 25)
  entry({
    "web",
    "setting",
    "safe"
  }, template("web/setting/safe"), _("\229\174\137\229\133\168\228\184\173\229\191\131"), 26)
  entry({"web", "prosetting"}, alias("web", "prosetting", "qos"), _("\232\183\175\231\148\177\232\174\190\231\189\174"), 40)
  entry({
    "web",
    "prosetting",
    "dhcpipmacband"
  }, template("web/setting/dhcp_ip_mac"), _("DHCP\233\157\153\230\128\129IP\229\136\134\233\133\141"), 41)
  entry({
    "web",
    "prosetting",
    "dmz"
  }, template("web/setting/dmz"), _("DMZ"), 42)
  entry({
    "web",
    "prosetting",
    "nat"
  }, template("web/setting/nat_dmz"), _("\231\171\175\229\143\163\232\189\172\229\143\145"), 43)
  entry({
    "web",
    "prosetting",
    "upnp"
  }, template("web/setting/upnp"), _("upnp"), 44)
  entry({
    "web",
    "prosetting",
    "ddns"
  }, template("web/setting/ddns"), _("DDNS"), 45)
  entry({
    "web",
    "prosetting",
    "vpn"
  }, template("web/setting/vpn"), _("VPN"), 46)
  entry({
    "web",
    "prosetting",
    "qos"
  }, call("action_qos"), _("\230\153\186\232\131\189\233\153\144\233\128\159QoS"), 47)
  entry({"web", "apsetting"}, alias("web", "apsetting", "upgrade"), _("\228\184\173\231\187\167\232\174\190\231\189\174"), 60)
  entry({
    "web",
    "apsetting",
    "upgrade"
  }, template("web/apsetting/upgrade"), _("\228\184\173\231\187\167\231\179\187\231\187\159\228\191\161\230\129\175"), 61)
  entry({
    "web",
    "apsetting",
    "wan"
  }, template("web/apsetting/wan"), _("\228\184\173\231\187\167\230\168\161\229\188\143\229\136\135\230\141\162"), 62)
  entry({
    "web",
    "apsetting",
    "safe"
  }, template("web/apsetting/safe"), _("\228\184\173\231\187\167\229\175\134\231\160\129\232\174\190\231\189\174"), 63)
  entry({
    "web",
    "apsetting",
    "wifi"
  }, call("action_apwifi"), _("\228\184\173\231\187\167Wi-Fi\232\174\190\231\189\174"), 64)
  entry({
    "web",
    "apsetting",
    "roam"
  }, template("web/apsetting/roam"), _("roam"), 65)
  entry({"web", "store"}, template("web/store"), _("\229\173\152\229\130\168\231\138\182\230\128\129"), 90)
  entry({"web", "syslock"}, template("web/syslock"), _("\232\183\175\231\148\177\229\141\135\231\186\167"), 100)
  entry({"web", "upgrading"}, template("web/syslock"), _("\232\183\175\231\148\177\229\141\135\231\186\167"), 101, 13)
  entry({"web", "webinitrdr"}, call("action_webinitrdr"), _(""), 110, 9)
  entry({"web", "login"}, template("web/sysauth"), _(""), 111)
  entry({"web", "ieblock"}, template("web/ieblock"), _(""), 120, 9)
  entry({"web", "topo"}, template("web/topograph"), _(""), 130, 13)
end
function action_apwifi()
  local L0_0, L1_1
  L0_0 = require
  L1_1 = "luci.template"
  L0_0 = L0_0(L1_1)
  L1_1 = {}
  if require("xiaoqiang.common.XQFunction").getNetModeType() == 1 then
    L0_0.render("web/apsetting/wifi", L1_1)
  else
    L0_0.render("web/setting/wifi", L1_1)
  end
end
function action_qos()
  if require("xiaoqiang.XQFeatures").FEATURES.apps.qos == "1" then
    require("luci.template").render("web/setting/qos", {})
  else
    require("luci.template").render("web/setting/qos_lite", {})
  end
end
function action_logout()
  if require("luci.dispatcher").context.authsession then
    require("luci.sauth").kill(require("luci.dispatcher").context.authsession)
    require("luci.dispatcher").context.urltoken.stok = nil
  end
  luci.http.redirect(luci.dispatcher.build_url())
end
function action_hello()
  if require("xiaoqiang.util.XQSysUtil").getInitInfo() then
    luci.http.redirect(luci.dispatcher.build_url())
  else
    require("xiaoqiang.util.XQSysUtil").setSysPasswordDefault()
  end
  require("luci.template").render("web/init/hello")
end
function action_webinitrdr()
  local L0_2
  L0_2 = {}
  L0_2.code = 0
  L0_2.data = {
    s1 = _("\228\189\160\232\191\158\230\142\165\231\154\132\232\183\175\231\148\177\229\153\168\232\191\152\230\156\170\229\136\157\229\167\139\229\140\150"),
    s2 = _("\232\175\183\231\168\141\229\128\153\239\188\140\228\188\154\232\135\170\229\138\168\228\184\186\228\189\160\232\183\179\232\189\172\229\136\176\229\188\149\229\175\188\233\161\181\233\157\162..."),
    s3 = _("\229\166\130\230\158\156\230\156\170\232\131\189\232\183\179\232\189\172\239\188\140\232\175\183\231\155\180\230\142\165\232\174\191\233\151\174"),
    s4 = _("\230\172\162\232\191\142\228\189\191\231\148\168\229\176\143\231\177\179\232\183\175\231\148\177\229\153\168")
  }
  luci.http.write_json(L0_2)
end
