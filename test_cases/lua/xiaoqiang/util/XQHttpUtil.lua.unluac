local L0_0, L1_1, L2_2, L3_3, L4_4, L5_5
L0_0 = module
L1_1 = "xiaoqiang.util.XQHttpUtil"
L2_2 = package
L2_2 = L2_2.seeall
L0_0(L1_1, L2_2)
L0_0 = require
L1_1 = "xiaoqiang.common.XQFunction"
L0_0 = L0_0(L1_1)
L1_1 = require
L2_2 = "xiaoqiang.common.XQConfigs"
L1_1 = L1_1(L2_2)
L2_2 = require
L3_3 = "xiaoqiang.XQLog"
L2_2 = L2_2(L3_3)
L3_3 = require
L4_4 = "socket.http"
L3_3 = L3_3(L4_4)
L4_4 = pcall
L5_5 = require
L5_5 = L4_4(L5_5, "ssl.https")
if not L4_4 and not L5_5 then
  L5_5 = {}
end
function httpGetRequest(A0_6, A1_7, A2_8)
  local L3_9, L4_10, L5_11, L6_12, L7_13, L8_14, L9_15, L10_16, L11_17
  L3_9 = {}
  L4_10, L5_11 = nil, nil
  if A2_8 then
    if L6_12 == "table" then
      L4_10 = ""
      for L9_15, L10_16 in L6_12(L7_13) do
        L11_17 = L4_10
        L4_10 = L11_17 .. L9_15 .. "=" .. L10_16 .. ";path=/;domain=.xiaomi.com;"
      end
      L3_9.Cookie = L4_10
    end
  end
  if L6_12 then
    L5_11 = _UPVALUE0_
  else
    L5_11 = _UPVALUE1_
  end
  L6_12.code = ""
  L6_12.headers = ""
  L6_12.status = ""
  L6_12.res = ""
  L9_15, L10_16 = nil, nil
  L11_17 = _UPVALUE2_
  L11_17 = L11_17.isStrNil
  L11_17 = L11_17(L4_10)
  if L11_17 then
    L11_17 = _UPVALUE2_
    L11_17 = L11_17.isStrNil
    L11_17 = L11_17(A1_7)
    if L11_17 then
      L11_17 = L5_11.request
      L9_15, L10_16, L11_17 = "=", L10_16, L11_17(A0_6)
    else
      L11_17 = L5_11.request
      L9_15, L10_16, L11_17 = A1_7, L11_17(A0_6)
    end
  else
    L11_17 = _UPVALUE2_
    L11_17 = L11_17.isStrNil
    L11_17 = L11_17(A1_7)
    if not L11_17 then
      L11_17 = A0_6
      L11_17 = L11_17 .. A1_7
      if L11_17:match("?") then
        A0_6 = L11_17
      else
        A0_6 = A0_6 .. "?" .. A1_7
      end
    end
    L11_17 = {}
    L9_15, L10_16 = L5_11.request({
      url = A0_6,
      sink = _UPVALUE3_.sink.table(L11_17),
      headers = L3_9
    })
  end
  L11_17 = L8_14 or ""
  L6_12.code = L11_17
  L11_17 = L9_15 or ""
  L6_12.headers = L11_17
  L11_17 = L10_16 or ""
  L6_12.status = L11_17
  L11_17 = L7_13 or ""
  L6_12.res = L11_17
  L11_17 = _UPVALUE4_
  L11_17 = L11_17.log
  L11_17(7, L6_12)
  return L6_12
end
function httpPostRequest(A0_18, A1_19, A2_20, A3_21)
  local L4_22, L5_23, L6_24, L7_25, L8_26, L9_27, L10_28, L11_29
  L4_22 = {}
  L5_23, L6_24 = nil, nil
  if A2_20 then
    if L7_25 == "table" then
      L5_23 = ""
      for L10_28, L11_29 in L7_25(L8_26) do
        L5_23 = L5_23 .. L10_28 .. "=" .. L11_29 .. ";path=/;domain=.xiaomi.com;"
      end
      L4_22.Cookie = L5_23
    end
  end
  L4_22["Content-type"] = "application/x-www-form-urlencoded"
  if A3_21 then
    L4_22["Content-type"] = A3_21
  end
  L4_22["Content-length"] = L7_25
  if L7_25 then
    L6_24 = _UPVALUE0_
  else
    L6_24 = _UPVALUE1_
  end
  L7_25.code = ""
  L7_25.headers = ""
  L7_25.status = ""
  L7_25.res = ""
  L10_28 = {}
  L10_28.url = A0_18
  L10_28.method = "POST"
  L11_29 = _UPVALUE2_
  L11_29 = L11_29.source
  L11_29 = L11_29.string
  L11_29 = L11_29(A1_19)
  L10_28.source = L11_29
  L11_29 = _UPVALUE2_
  L11_29 = L11_29.sink
  L11_29 = L11_29.table
  L11_29 = L11_29(L8_26)
  L10_28.sink = L11_29
  L10_28.headers = L4_22
  L11_29 = L9_27(L10_28)
  L7_25.code = L10_28 or ""
  L7_25.headers = L11_29 or ""
  L7_25.status = L9_27(L10_28) or ""
  L7_25.res = L9_27 or ""
  _UPVALUE3_.log(7, L7_25)
  return L7_25
end
