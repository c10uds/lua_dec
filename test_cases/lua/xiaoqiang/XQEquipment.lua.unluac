local L0_0
L0_0 = module
L0_0("xiaoqiang.XQEquipment", package.seeall)
L0_0 = require
L0_0 = L0_0("xiaoqiang.common.XQFunction")
function identifyDevice(A0_1, A1_2)
  local L2_3, L3_4, L4_5, L5_6, L6_7, L7_8, L8_9, L9_10, L10_11, L11_12, L12_13, L13_14, L14_15, L15_16
  if not L4_5 then
    A0_1 = L4_5
    L15_16 = L5_6(L6_7, L7_8, L8_9)
    if L6_7 then
      if L7_8 == "table" then
        if L5_6 then
          for L10_11, L11_12 in L7_8(L8_9) do
            L12_13 = tonumber
            L13_14 = L11_12.from
            L14_15 = 16
            L12_13 = L12_13(L13_14, L14_15)
            L13_14 = tonumber
            L14_15 = L11_12.to
            L15_16 = 16
            L13_14 = L13_14(L14_15, L15_16)
            if L5_6 >= L12_13 and L5_6 <= L13_14 then
              L14_15 = {}
              L2_3 = L14_15
              L14_15 = {}
              L14_15.c = 0
              L14_15.p = 0
              L14_15.n = ""
              L15_16 = 2
              if L11_12.type then
                L14_15 = L11_12.type
              end
              if L11_12.priority then
                L15_16 = tonumber(L11_12.priority)
              end
              L2_3.name = L11_12.company
              L2_3.icon = L11_12.icon
              L2_3.type = L14_15
              L2_3.priority = L15_16
            end
          end
        end
      end
    else
      if not L8_9 then
        L10_11 = _UPVALUE3_
        L10_11 = L10_11.OUI_ZIP_FILEPATH
        L11_12 = " -C /tmp >/dev/null 2>/dev/null"
        L8_9(L9_10)
      end
      if L8_9 then
        L10_11 = string
        L10_11 = L10_11.gsub
        L11_12 = A0_1
        L12_13 = ":"
        L13_14 = "-"
        L10_11 = L10_11(L11_12, L12_13, L13_14)
        L11_12 = 1
        L12_13 = 8
        L15_16 = L9_10(L10_11, L11_12, L12_13)
        L10_11 = "sed -n '/"
        L11_12 = L4_5
        L12_13 = "/p' "
        L13_14 = _UPVALUE3_
        L13_14 = L13_14.OUI_FILEPATH
        L10_11 = L10_11 .. L11_12 .. L12_13 .. L13_14
        L15_16 = L9_10(L10_11)
        L10_11 = L8_9
        if not L9_10 then
          L10_11 = _UPVALUE2_
          L10_11 = L10_11.split
          L11_12 = L8_9
          L12_13 = L4_5
          L10_11 = L10_11(L11_12, L12_13)
          L10_11 = L10_11[2]
          L11_12 = L9_10
          L10_11 = L9_10.match
          L12_13 = "ICON:(%S+)"
          L10_11 = L10_11(L11_12, L12_13)
          L11_12 = {}
          L2_3 = L11_12
          if L10_11 then
            L12_13 = L9_10
            L11_12 = L9_10.match
            L13_14 = "(.+)ICON:%S+"
            L11_12 = L11_12(L12_13, L13_14)
            L11_12 = L11_12 or ""
            L2_3.name = L11_12
            L2_3.icon = L10_11
          else
            L2_3.name = L9_10
            L2_3.icon = ""
          end
          L11_12 = {}
          L11_12.c = 0
          L11_12.p = 0
          L11_12.n = ""
          L2_3.type = L11_12
          L2_3.priority = 2
        end
      end
    end
  end
  if not L4_5 then
    A1_2 = L4_5
    for L7_8, L8_9 in L4_5(L5_6) do
      L10_11 = A1_2
      L11_12 = L8_9.rule
      if L9_10 then
        L9_10.c = 0
        L9_10.p = 0
        L9_10.n = ""
        L10_11 = 2
        L11_12 = {}
        L3_4 = L11_12
        L11_12 = L8_9.type
        if L11_12 then
        end
        L11_12 = L8_9.priority
        if L11_12 then
          L11_12 = tonumber
          L12_13 = L8_9.priority
          L11_12 = L11_12(L12_13)
          L10_11 = L11_12
        end
        L11_12 = L8_9.company
        L3_4.name = L11_12
        L11_12 = L8_9.icon
        L3_4.icon = L11_12
        L3_4.type = L9_10
        L3_4.priority = L10_11
        break
      end
    end
  end
  if L2_3 and L3_4 then
    if L4_5 < L5_6 then
      return L2_3
    else
      return L3_4
    end
  elseif not L2_3 and not L3_4 then
    L4_5.name = ""
    L4_5.icon = ""
    L5_6.c = 0
    L5_6.p = 0
    L5_6.n = ""
    L4_5.type = L5_6
    L4_5.priority = 2
    return L4_5
  else
    L4_5 = L2_3 or L3_4
    return L4_5
  end
end
